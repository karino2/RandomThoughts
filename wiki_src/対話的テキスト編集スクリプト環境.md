awkのような事を対話的にやりたい。
以前はemacs lispでやっていたのだが、最近はemacsとか使ってないので似たような事をやりたい気がする。

名前が思いつかないのでとりあえずそのまんまのページ名で。

暫定的にscript-far（Find and Replace）というフォルダ名で進める。なんかしっくり来てないが。

## コンセプト

用途を限定する事で楽に書ける、結果を確認しながらapplyするかを順番に決めていける。
検索と置換のようなインターフェースでもっと複雑な事が出来るようなものが欲しい。

## ユースケース

例えば以下のようなコードがあった時に、

```
#ifdef ENABLE_CPP14_AUTO
auto guard1 = Locker(mutex1);
auto guard2 = Locker(mutex2);
#endif
```

以下のような編集をしたい、

```
GRD guard1 = Locker(mutex1);
GRD guard2 = Locker(mutex2);
```

ようするに

1. 適当な検索条件でヒットした行から、endifまでの間を
2. autoをGRDに置換して
3. ifdefの行とendifの行を消す

というような事を簡単に書いて、それをapplyしていくかどうかをプレビュー付きで出来るようにしたい。

## たたき台

1. 特定のディレクトリ以下、特定の拡張子のファイル一覧に対して
2. 検索をして対象となる所をリストアップする
3. 2でヒットした各場所に対して、そこから相対的に終わりを規定する検索条件を書く、この2と3で編集対象領域が決まる
4. 編集対象領域に対してアクションを複数書く
5. アクションを適用した結果のプレビューが出る、その後はy, y, yという感じでどれに適用してどれに適用しないかが選べる

言語と環境は何にするかなぁ。Electronでいい気もするが、F#とphotinoでもいい気もする。うーん。

nodeの[file-matcher - npm](https://www.npmjs.com/package/file-matcher)で1と2は良い気がする。