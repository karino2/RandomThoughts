[[作業ログ]], [[ノート]]

## slogとは

slogとは、以下の決まりで書いていく作業メモの事。SagyouLOGでslog。

- 単なるmdファイルを特定のフォルダ下に置いていく
- mdファイルはキーワードと日付から生成されるファイル名
- ファイルの先頭は必ずその作業のタイトルを書く

具体的な形式などは以下の各項目を参照のこと。

### 哲学

[[作業ログ]]をいい感じにローカルに書いていくのに必要な決まりごとを考えた。考察は[[作業ログ]]の方にも書いてある。

- 気軽に新規の作業ログを開始出来る
   - タイトルを考える前に始められる（newfile.commandをダブルクリックするだけ）
   - ファイル名のキーワードはあくまでCmd-pなどで引っ掛けるためだけに使用、あまり考えずに適当に
   - タイトルは後で変更してもファイル名に影響無し（始めた後にタイトルを考えられるように）
      - タイトルは後からより適切なものが思いつく都度ちょくちょく変更していく
- 一つの作業ログに何を書き足してもほかの作業をしている時は目に触れない
  - 1作業1ファイル
  - 大量のログなどを貼っても他のメモを邪魔しない
- ログやコマンド、コード片などを何も考えずにコピペしていける
  - ゆるいmdフォーマットだがmd違反があっても気にしない、プレーンテキスト
- フォルダごと[[Syncthing]]で同期

## 新規ファイル作成スクリプト

ファイル名は2025_1212_211312-some_key_word.md とかにする。以下のスクリプトで作る。

```bash
#!/usr/bin/env bash

BASENAME=`date "+%Y_%m%d_%H%M%S"`


DEST=$(dirname $0)
FILENAME="$DEST/${BASENAME}-blank.md"
echo $FILENAME
echo "# " > $FILENAME
```

Mac上ではnewfile.commandというファイルでslogのディレクトリに置いて、Finderからダブルクリックで作っている。
名前を考える前にダブルクリックで始められる、というのが結構良い。

なお、ファイル名にキーワードっぽいものが入ってないとCmd-pで開く時などに困る場合もあるので、その場合はハイフンで区切ってアンダーバー区切りにする。例えば以下。

2025_1212_211312-some_id_example.md

区切りがハイフンなのはこれでsedで一発で削れるように。

## 一覧を選ぶシェルスクリプト

Copilotに書かせてみたらfzfを使ったいい感じのが出来た。

```bash
#!/usr/bin/env bash

DIR=$(dirname $0)

# 一時ファイルに日付とタイトルを抽出
LIST=$(for file in "$DIR"/*.md; do
    title=$(head -n 1 "$file" | sed 's/^# *//')
    date=$(basename "$file" .md | sed 's/-.*//' | sed 's/_/ /g')
    echo "$date | $title | $file"
done)

# fzfで選択
SELECTED=$(echo "$LIST" | fzf --with-nth=1,2 --delimiter="|" --preview 'head -n 20 {3}' --preview-window=down:wrap)

# ファイルパスを抽出して開く
FILE=$(echo "$SELECTED" | awk -F '|' '{print $3}' | xargs)
[ -n "$FILE" ] && open "$FILE"
```

タイトルと日付のリストで、上にフォーカスを当てると先頭20行が表示される。すげー便利。
これもFinderからダブルクリックで使っている。

こういうの書かせるにはLLMは最強だな。

サマリーが無いが素のPowerShellのバージョンも作ってもらった。

```powershell
$dir = Split-Path $PSCommandPath

$items = Get-ChildItem "$dir" -Filter *.md | ForEach-Object {
    $title = (Get-Content $_.FullName -TotalCount 1) -replace '^#\s*', ''
    $date  = $_.BaseName -replace '-.*','' -replace '_',' '
    [PSCustomObject]@{
        Date  = $date
        Title = $title
        Path  = $_.FullName
    }
}

$selected = $items | Out-GridView -Title "Select Markdown" -PassThru

if ($selected) {
    Start-Process $selected.Path
}
```

Out-GridViewはなかなかいいよな。

## 使ってみた感想

以下に雑多な感想などを書いてみる

### 結構いい感じだ 2026-01-04 (日)

単にちょっとした決まりごとを決めてシェルスクリプトを二つ書いただけなのだが、凄くいい感じだ。
WIkiなどに統合するよりも単なるテキストファイルにしてVSCodeで書く方が良い。
正しい事を始めた感じがする。

今の所スクショが貼れないが、[[MdImgr]]使って貼れるように考えてもいいかもしれない。この辺は必要になったら考える。
先に始められているのがこのコンセプトの正しさを証明している気がする。

### 日報との使い分け 2026-01-06 (火)

slogを書いていると日報的な毎日何やったかを書く作業ログの記述が過小になりがちという問題があるかもしれない。
今やってる作業がMFGStudioのオープンソース化という、社内ライブラリの依存を粛々と切っていくだけの作業なのでそうなっているだけかもしれないが。

1日にやった事箇条書き、一週間のまとめ、一ヶ月のまとめ、くらいはやっぱり別に欲しいんだよなぁ。

### 皆様の反応

slogの話をしたらomo先生は以下のような感じとか。

[Per-Bug Pages - 2026-01-05 / Spinach Forest](https://records.dodgson.org/2026/01/05/perbug-pages/)

違う部分もあるがモチベーションと解決策にはかなり近いものがある。
バグとかチケットごとのテキストファイルを専用のフォルダに置く、というのは何かの答えなのかもしれない。

[Per-task notes - @kyanny's blog](https://blog.kyanny.me/entry/2026/01/06/150648#gsc.tab=0)

元々[[作業ログ]]のページはkyanny's blogのやり方のリンクから始まっている事からも明らかなように、影響はかなり受けているかもしれない。
細部はそれぞれ違っていて、その違いはそれぞれの環境の違いから来るのだろうな。

- Daily Notes的なものが別にある
- タスクごとに別個のmdファイルがある
- 特定のフォルダに置く

このくらいは結論として良いのかもしれない。

### やはりファイル名にキーワードは要るか 2026-01-23 (金)

キーワードをつけずにファイルを作れるのが重要と思ったが、やはりキーワードがついている方がVSCodeで複数タブを行き来する時には便利だな、という結論になり、キーワードを入れられるようにする。

ハイフンで区切ってキーワードをつける。listのスクリプトにその対応を入れる。
ただキーワードはオプショナルにしてファイルを作る時にはつけない。気が向いた時に後から足す方針で。

### slogで書いてやがて外に移動というパターン 2026-02-06 (金)

slogでとりあえず書いてみて、ある程度書いたら「これはissueの方がいいな」とか「これはGitHub Wikiに移動したいな」というのがちょくちょく出てきて移動している。
大体半分くらいはそうやって移動されたか。

このある程度育ってきたら移動する、というのは、最初からそれらでやっておけばいい話ではあるはずだが、
そうした事を最初に考える前にとりあえずslogで始められる、というのが重要に思う。
ちょっと始めるのが面倒だな、という時に漏れてしまうものをslogが上手い事拾ってくれている気がする。
これまで書かずに済ませてしまっていた事をちゃんと書くようになった。

むしろ他に移動したくなったらすぐ移動出来るのもslogの良い所に思う。というのは各ファイルに依存が無いので、削除なども自由に出来るから。