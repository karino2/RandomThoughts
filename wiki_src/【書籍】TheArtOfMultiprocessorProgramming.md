[[並列プログラム]]

[Amazon: The Art of Multiprocessor Programming (2nd edition)](https://amzn.to/3Sxl1Ed)に第二版があるが、
自分はかつて第一版を買ったまま読まずに来てもったいないので第一版を読んでいる。（2023年現在）

JavaのCPUがたくさんある場合のプログラムの話で、
ロックフリーなアルゴリズムなどの話の教科書的な位置づけと思う。

[[1024cores]]ではこの本に無いが良く使うようなアルゴリズムがいろいろ紹介されているので、
少しこの本では不足を感じるけれど、不足があるのは内容がダメという事では無く、
むしろ自分の手持ちの中ではこの分野についてもっともちゃんと書いてある本と言える。

個人的には2010年代の初頭に勉強会でこの本をやろう、となって最初の方で挫折した過去がある。
あの当時は「こりゃ人類には難しすぎて無理だ」と思ったが、
2023年現在ではなかなか面白く読める事に気づいてちょくちょく読んでいる。

あまり先頭から全部読もうという気はなくて、仕事に役に立ちそうなあたりだけを読むつもり。
この本はなんかそういう読み方の方が挫折もしづらくていい気もする。

## 7章のSpin Lock

仕事でこれまでロックで扱っていたのがfast passでパフォーマンスが出なくて困っていたので、
fast passではロックしなくてもいいように変えたいと思っている。

そこでスピンロックの周辺の理解を深めてなんとか出来ないか？と考えてこの章を読み始めた。

7章のSpin Lockは2章のLockの話の続きになっているので2章も読む必要がある。
2章はatomic variableを使ってどうロックを実現するか、みたいな内容。

Lockはいろいろ勉強になった。

## 8章は読まなくてもいいかなぁ

8章は読んだが、割と普通のlockでreader-writer lockを作るとかそういう話で、しかもちょっと実装がおかしい気がするがerrataとかも見つからなかったのでそんなに深くは読まずに先に進む事に。