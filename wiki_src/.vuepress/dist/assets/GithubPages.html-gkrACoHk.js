import{_ as a,c as r,a as t,o as i}from"./app-CTYZxEMR.js";const o={};function l(n,e){return i(),r("div",null,[...e[0]||(e[0]=[t(`<p>github上にweb siteを持てる仕組み。 無料で使えてかなり制限が少なく、jekyllを使っていろいろな事が出来る。</p><h2 id="外部リンク" tabindex="-1"><a class="header-anchor" href="#外部リンク"><span>外部リンク</span></a></h2><ul><li><a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages - Websites for you and your projects, hosted directly from your GitHub repository. Just edit, push, and your changes are live.</a> 本家</li><li><a href="./VuePress.html">VuePress</a> サイトジェネレータだがGithubPagesと合わせて使う事が多いのでここに置く。</li></ul><p>以下はjekyll関連でよく参照するもの。</p><ul><li><a href="https://jekyllrb.com/docs/includes/" target="_blank" rel="noopener noreferrer">Includes - Jekyll • Simple, blog-aware, static sites</a></li><li><a href="https://jekyllrb.com/docs/variables/" target="_blank" rel="noopener noreferrer">Variables - Jekyll • Simple, blog-aware, static sites</a></li></ul><h2 id="dockerでのローカル環境" tabindex="-1"><a class="header-anchor" href="#dockerでのローカル環境"><span>dockerでのローカル環境</span></a></h2><p><a href="https://karino2.github.io/2021/01/17/jekyll_on_mac.html" target="_blank" rel="noopener noreferrer">Mac OS X上のdockerでjekyll環境を作ってgithub pagesのテストをする - なーんだ、ただの水たまりじゃないか</a></p><h2 id="新規の始め方" tabindex="-1"><a class="header-anchor" href="#新規の始め方"><span>新規の始め方</span></a></h2><p>よく新しく始めるので、その際の手順などを。基本的には以下と同じことをdockerでするだけ。</p><p><a href="https://docs.github.com/ja/pages/setting-up-a-github-pages-site-with-jekyll/creating-a-github-pages-site-with-jekyll" target="_blank" rel="noopener noreferrer">Jekyll を使用して GitHub Pages サイトを作成する - GitHub Docs</a></p><p>まずはレポジトリを用意して、Github側で設定する。</p><p>次にjekyllのバージョンを調べる。</p><p><a href="https://github.com/envygeeks/jekyll-docker" target="_blank" rel="noopener noreferrer">envygeeks/jekyll-docker: ⛴ Docker images, and CI builders for Jekyll.</a></p><p>次に、以下を実行。</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">% export JEKYLL_VERSION=3.8</span>
<span class="line">% docker run --rm --volume=&quot;$PWD:/srv/jekyll&quot; -it jekyll/jekyll:$JEKYLL_VERSION jekyll new --skip-bundle . --force</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>forceはcurrent directoryが空じゃない場合にいるとか。 <a href="https://github.com/jekyll/jekyll/issues/3309" target="_blank" rel="noopener noreferrer">Installing jekyll in current directory fails · Issue #3309 · jekyll/jekyll</a></p><p>そして<code>_config.yml</code>を書き換える。</p><p>動作確認は以下。</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">docker run --rm  --volume=&quot;$PWD:/srv/jekyll:Z&quot; --publish 4000:4000  jekyll/jekyll  jekyll serve --incremental</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>これで<code>localshot:4000</code>にアクセスすれば見れる。</p><p>なお、<code>_config.yml</code>でbaseUrlを指定していると、それをlocalhostにつける必要がある。例えばTextTL_siteを指定している場合、</p><p><code>http://localhost:4000/TextTL_site</code> がrootになる。</p><h2 id="liquid" tabindex="-1"><a class="header-anchor" href="#liquid"><span>Liquid</span></a></h2><ul><li><a href="https://shopify.github.io/liquid/basics/types/" target="_blank" rel="noopener noreferrer">Types – Liquid template language</a></li></ul><p>辞書は無いとのこと。ワークアラウンド。</p><p><a href="https://stackoverflow.com/questions/67691445/how-to-create-or-define-a-dictionary-in-liquid-templates" target="_blank" rel="noopener noreferrer">json - How to create or define a dictionary in liquid templates? - Stack Overflow</a></p><h2 id="サイドバーでナビゲーション" tabindex="-1"><a class="header-anchor" href="#サイドバーでナビゲーション"><span>サイドバーでナビゲーション</span></a></h2><p>ナビゲーション用のサイドバーを作ろうと思いたつ。 適当にググったら、以下が良く書けている。</p><p><a href="https://jekyllrb.com/tutorials/navigation/" target="_blank" rel="noopener noreferrer">Navigation - Jekyll • Simple, blog-aware, static sites</a></p><p>ナビゲーションバーがあるテーマをいろいろ探していたが、すでにいろいろminimaをカスタマイズしすぎていて乗り換えるのが面倒なので、 minimaにサイドバー足す方向で進めよう。</p><p>出来た。</p><p><a href="https://github.com/karino2/kotlin-lesson/commit/129d33fcc0a51de2ed26e7c5de069e4cd246b31d" target="_blank" rel="noopener noreferrer">ナビゲーション用サイドバー対応 · karino2/kotlin-lesson@129d33f</a></p><p>最初は上の例を真似してymlでテキストを指定していたが面倒なのでファイルだけ追加しておいてLiquidの方でページタイトルを表示するように変更。 ページの追加と削除はこれまでのconfig.ymlと同程度の手間に抑えたかったので。</p><p>結果はまぁまぁ満足。</p><p>collapseしたいなぁ。</p><p><a href="https://www.w3schools.com/howto/howto_js_treeview.asp" target="_blank" rel="noopener noreferrer">How To Create a Tree View</a></p><p>onclickに直接入れればそんなに面倒は無いか？</p><p>MDNはどうしているんだろう？と以下のサイトをデベロッパーモードで見てみると＞<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank" rel="noopener noreferrer">JavaScript - MDN</a></p><p>なんかdetailsとかいうタグを使っている。</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details" target="_blank" rel="noopener noreferrer">details: The Details disclosure element - HTML: HyperText Markup Language - MDN</a></p><p>おお、これでいいじゃん。</p><h2 id="github-pagesを使ったシステム" tabindex="-1"><a class="header-anchor" href="#github-pagesを使ったシステム"><span>github pagesを使ったシステム</span></a></h2><ul><li><a href="./GitWiki.html">GitWiki</a></li><li><a href="./GithubPagesGallery.html">GithubPagesGallery</a></li></ul><p>どちらも良く出来ていて、<a href="./サブWiki.html">サブWiki</a>の公開に使ったり、<a href="./PngNote.html">PngNote</a>の公開に使ったりしている。 このgithub pagesを使ったシステムは無料でありながらサーバーの運用をしなくても良くていいよな。</p><p>どちらも既存のソフトをgithub pagesに対応しただけという感じになっていて、 そんなにいろいろは頑張っていない。 だがそのおかげで、割といじりやすく、足りないものは自分で足して行けて良い。</p><p>同じようにSNS作れないかな？と一瞬考えたが無理だった。＞<a href="./GitHubを使ったSNSを考える.html">GitHubを使ったSNSを考える</a></p><h2 id="jsonのサーバーに出来ないか" tabindex="-1"><a class="header-anchor" href="#jsonのサーバーに出来ないか"><span>JSONのサーバーに出来ないか</span></a></h2><p>統計グラフ！は、GAEでスクリプトを管理していたが、 それほど動的である必要は無いので、github pagesでいいんじゃないか？</p><p><a href="https://victorscholz.medium.com/hosting-a-json-api-on-github-pages-47b402f72603" target="_blank" rel="noopener noreferrer">Hosting a JSON API on GitHub Pages</a></p><p>こんな感じでjsonを置いて、そのjsonを使ったページもGIthub Actionsで静的に生成すれば十分なのではないか。 これってjekyllの時にも動くのかね。素のhtmlを置けば表示されてた気がするのでたぶん動くか。</p><p>jsonをパースしてhtmlを生成する場合、イマドキは何を使うのかね。jekyllでいいのか？</p><p><a href="https://stackoverflow.com/questions/65446947/generating-jekyll-pages-from-a-folder-of-json" target="_blank" rel="noopener noreferrer">Generating Jekyll pages from a folder of JSON - Stack Overflow</a></p><p>これはページ生成の方は同じようなことをやっているな。</p><p>site dataのフォルダと公開用のフォルダに両方同じファイルを置くのは面倒だな。 なんとか出来ないかしら？</p><ul><li><a href="https://qiita.com/kenfdev/items/96e6f7914ca6b143bd72" target="_blank" rel="noopener noreferrer">Jekyllでpostsをpluginの力を借りずにJSONに変換 - Qiita</a></li><li><a href="https://fukata.dev/2021/02/02/pages-json-on-jekyll.html" target="_blank" rel="noopener noreferrer">Jekyllでページ一覧を返すjsonを作成する</a></li></ul><p>スキーマが決まってるんだからこんな感じでjsonから同じ中身のjsonを生成してやればいい気もする。 そのままincludeするだけで公開出来たらもっといいんだが。 少し見たが、includeとdataはフォルダが別っぽいな。やはり何も考えずにjsonを生成する方が良さそう。</p><p>このgistが同じような事を解説しているな。</p><p><a href="https://gist.github.com/MichaelCurrin/f8d908596276bdbb2044f04c352cb7c7" target="_blank" rel="noopener noreferrer">Jekyll - how to build a REST API</a></p><p>追記： <a href="./統計グラフ！.html">統計グラフ！</a>に書いたように、結局jsonは毎回全部送る事にした。大したサイズでは無いので。If-Modified-Sinceで普段は送られないのでいいだろう。 そしてhtmlの生成は遊びで<a href="./TypeScript.html">TypeScript</a>でやってみた。 悪くないが、短かったのでJSで良かったな。</p><h2 id="カスタマイズいろいろ" tabindex="-1"><a class="header-anchor" href="#カスタマイズいろいろ"><span>カスタマイズいろいろ</span></a></h2><p>そこそこカスタマイズをいろいろやっているので、ここにリンクをまとめていきたい。</p><ul><li><a href="https://karino2.github.io/2021/01/17/block_style_on_githubpages.html" target="_blank" rel="noopener noreferrer">github pagesでブロックのスタイルを指定したい - なーんだ、ただの水たまりじゃないか</a></li><li><a href="https://karino2.github.io/2023/07/30/kotlin_playground_on_github_page.html" target="_blank" rel="noopener noreferrer">Github Pages上でkotlin playgroundを使ってみる - なーんだ、ただの水たまりじゃないか</a></li></ul><h3 id="タイトルのカスタマイズ" tabindex="-1"><a class="header-anchor" href="#タイトルのカスタマイズ"><span>タイトルのカスタマイズ</span></a></h3><p>縦棒は一部のmarkdownパーサーでテーブルと勘違いするので、ハイフンに変えた。</p><p><a href="https://karino2.github.io/2021/10/31/customize_blog_title.html" target="_blank" rel="noopener noreferrer">このブログのタイトルをカスタマイズする（縦棒からハイフンに） - なーんだ、ただの水たまりじゃないか</a></p><ul><li><a href="https://github.com/karino2/karino2.github.io/commit/99f5cfd69f7b56ee1a27b835095c63c88b877d32" target="_blank" rel="noopener noreferrer">Modify title format · karino2/karino2.github.io@99f5cfd</a></li><li><a href="https://github.com/karino2/karino2.github.io/commit/e143bf207dd27daddf8d0b4f5309876ce3bf8a2b" target="_blank" rel="noopener noreferrer">Fix prev tilte modification. · karino2/karino2.github.io@e143bf2</a></li><li><a href="https://github.com/karino2/karino2.github.io/commit/21583b9bac95f588b2afe7d2251cafb49b5fe658" target="_blank" rel="noopener noreferrer">Update head.html · karino2/karino2.github.io@21583b9</a></li></ul><p>なお、<a href="./GitWiki.html">GitWiki</a>でも同じような作業をしている。</p><p>page.titleなどの変数は以下。 <a href="https://jekyllrb.com/docs/variables/" target="_blank" rel="noopener noreferrer">Variables - Jekyll • Simple, blog-aware, static sites</a></p>`,68)])])}const p=a(o,[["render",l]]),h=JSON.parse('{"path":"/GithubPages.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1759298799000,"contributors":[{"name":"Kazuma Arino","username":"","email":"hogeika2@gmail.com","commits":13}],"changelog":[{"hash":"16cb5e03ceca4b616437f1b7bb5012c154d85d5e","time":1759298799000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"ba97461520bd030a5af6058d90b7740772a0f346","time":1759295218000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update recents"},{"hash":"8555c014936511f3f653333b26d1cece1e47f6a9","time":1695441928000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"ec5b774bba9be6b7bc21c1d1fe3c704eef0609c8","time":1694966733000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"469ce08a52b32dd094cc6b8f17eb026bbb452875","time":1694946131000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"43602404e7bc761597affd554239d9e6394ba671","time":1692529527000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"b38b818007cee7dd90c37f164fe1cbd8b0292b87","time":1692252333000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"70bc942ffa5708e87dddc56efa77d8ab00d6a2ed","time":1692245134000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"76f89b06dac30b0df161bfb6a642fa619a3be4d9","time":1692237928000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"92345183cb597dcff8f9f79f941122d128bdf572","time":1690697127000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"a6d046741bf836953c5d84332985514c8e6b467d","time":1681451417000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"de795adf0c82df36bb174671214589078a40b01e","time":1644638947000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"},{"hash":"86cd55a9d55b6aa958922d42a4f9215407bb409a","time":1635739271000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"}]},"filePathRelative":"GithubPages.md"}');export{p as comp,h as data};
