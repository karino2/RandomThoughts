import{_ as e,c as r,a as t,o as i}from"./app-CHbCxg9g.js";const c={};function p(n,a){return i(),r("div",null,[...a[0]||(a[0]=[t('<p>そのうち作りたいものの構想をメモする。</p><p>キーボード前提のAndroidのエディタを作りたい。</p><p>AndroidのIME周辺のキーボードの扱いが好きになれないので、全部キーコードを自前でハンドルするエディタを作りたい。 テキスト入力専用で快適に長文が入力出来る感じの。</p><p>[[Starlark]]バックエンドにしたemacsみたいなエディタをぼんやりと考えている。 ということで名前はStarlark backendのemacsっぽいAndroid用エディタ、Starlarcsとしたい。</p><p>日本語入力はSKKを移植する感じで。</p><h2 id="viewについての雑記" tabindex="-1"><a class="header-anchor" href="#viewについての雑記"><span>Viewについての雑記</span></a></h2><p>一行一TextViewで、RecyclerViewを使いたいが、厳しいかなぁ。 内部的には対応する行に合わせたグリフ情報を構成して、それを書く。 各TextViewは前に書いたグリフ情報はキャッシュし、、、ってそこまでやるならTextViewよりも自分で書く方がいいかなぁ。</p><p>View側と内部の両方を一気につくると永遠に完成しないのでViewは手抜きで始めたい気もするな。 そうすると一番単純にはスクロールとかは無視して、画面に表示している範囲の文字をdrawするだけの方が楽か。 まぁ最初はそこからか。</p><p>そう考えるなら[[ZipSourceCodeReading]]と同じ感じでいいか。 ZipSourceCodeReadingはスクロールがいまいちだったので、将来的には各行を表示するViewを作ってRecyclerViewに任せたい気もするが、 キーボード中心と割り切れば別にスクロールがいまいちでも我慢出来るかもしれない。 なんにせよ最初は単に配列を画面に表示するだけの方がいいな。</p><p>とりあえず、内部で画面に表示する文字の一覧を作る。これはグリフの配列とする。 Viewはそれを表示するだけで、スクロールとかは一切サポートしない。 こんな感じで始めるか。 グリフを作る所まではどうせ一緒なので、そこから先は真面目に書きたくなったら書けばいいだろう。</p><h2 id="パッケージについて" tabindex="-1"><a class="header-anchor" href="#パッケージについて"><span>パッケージについて</span></a></h2><p>最初にホームディレクトリを指定させる。これはSAFで。とりあえずそこにstarlarkのスクリプト置いて、それをロードする感じでいってみたい。 本当にそれでエディタになるのかは少し自信が無い所もあるが、 カスタマイズしたい訳では無いので、既存のパッケージの関数の上書きとかは出来なくてもいいだろう。 どちらかといえば途中からは実装をStarlark側でやるようにしたいなぁ、という気持ちが強い。</p><p>JavaのStarlarkの外部スクリプトのロードはサポートされてないが、手作業では出来るっぽいことを以前Stackoverflowで見かけた気がするので、やれば出来そう。</p><h2 id="バッファについて" tabindex="-1"><a class="header-anchor" href="#バッファについて"><span>バッファについて</span></a></h2><p>バッファは行のリストで。ギャップは入れないで単純に毎回コピーする。 バッファ周りはAPIは割と真面目に作る。</p>',15)])])}const s=e(c,[["render",p]]),d=JSON.parse('{"path":"/Starlarcs.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1660519949000,"contributors":[{"name":"Kazuma Arino","username":"","email":"hogeika2@gmail.com","commits":1}],"changelog":[{"hash":"02cc393a50c1324ffd035e938ec2bec7e8064f37","time":1660519949000,"email":"hogeika2@gmail.com","author":"Kazuma Arino","message":"update"}]},"filePathRelative":"Starlarcs.md"}');export{s as comp,d as data};
