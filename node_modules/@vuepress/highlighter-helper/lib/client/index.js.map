{"version":3,"file":"index.js","sources":["../../src/client/composables/setupCollapsedLines.ts"],"sourcesContent":["import { useEventListener } from '@vueuse/core'\n\n/**\n * Setup collapsed lines functionality for code blocks\n *\n * 为代码块设置折叠行功能\n *\n * @param options - Setup options / 设置选项\n * @param options.selector - CSS selector for collapsed lines elements / 折叠行元素的 CSS 选择器\n *\n * @example\n * ```ts\n * import { setupCollapsedLines } from '@vuepress/highlighter-helper/client'\n *\n * // Use default selector\n * setupCollapsedLines()\n *\n * // Use custom selector\n * setupCollapsedLines({\n *   selector: '.my-collapsed-lines'\n * })\n * ```\n */\nexport const setupCollapsedLines = ({\n  selector = 'div[class*=\"language-\"].has-collapsed-lines > .collapsed-lines',\n}: { selector?: string } = {}): void => {\n  useEventListener(\n    'click',\n    (e) => {\n      const target = e.target as HTMLElement\n      if (target.matches(selector)) {\n        const parent = target.parentElement\n        if (parent?.classList.toggle('collapsed')) {\n          parent.scrollIntoView({ block: 'center', behavior: 'instant' })\n        }\n      }\n    },\n    { passive: true },\n  )\n}\n"],"names":["setupCollapsedLines","selector","useEventListener","e","target","parent"],"mappings":"gDAuBO,MAAMA,EAAsB,CAAC,CAClC,SAAAC,EAAW,gEACb,EAA2B,CAAA,IAAa,CACtCC,EACE,QACCC,GAAM,CACL,MAAMC,EAASD,EAAE,OACjB,GAAIC,EAAO,QAAQH,CAAQ,EAAG,CAC5B,MAAMI,EAASD,EAAO,cAClBC,GAAQ,UAAU,OAAO,WAAW,GACtCA,EAAO,eAAe,CAAE,MAAO,SAAU,SAAU,SAAU,CAAC,CAElE,CACF,EACA,CAAE,QAAS,EAAK,CAClB,CACF"}