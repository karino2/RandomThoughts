import{useStorage as y}from"@vueuse/core";import{defineComponent as _,useId as s,ref as h,shallowRef as E,h as i,watch as c,onMounted as g}from"vue";import"../styles/code-tabs.css";const A="VUEPRESS_CODE_TAB_STORE",r=y(A,{}),S=_({name:"CodeTabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},tabId:String},slots:Object,setup(e,{slots:o}){let n=e.data.map(()=>s());const l=h(e.active),u=E([]),b=()=>{e.tabId&&(r.value[e.tabId]=e.data[l.value].id)},p=(a=l.value)=>{l.value=a<u.value.length-1?a+1:0,u.value[l.value].focus()},f=(a=l.value)=>{l.value=a>0?a-1:u.value.length-1,u.value[l.value].focus()},I=(a,t)=>{a.key===" "||a.key==="Enter"?(a.preventDefault(),l.value=t):a.key==="ArrowRight"?(a.preventDefault(),p()):a.key==="ArrowLeft"&&(a.preventDefault(),f()),e.tabId&&(r.value[e.tabId]=e.data[l.value].id)},m=()=>{if(e.tabId){const a=e.data.findIndex(({id:t})=>r.value[e.tabId]===t);if(a!==-1)return a}return e.active};return __VUEPRESS_DEV__&&c(()=>e.data.length,()=>{n=e.data.map(()=>s())}),g(()=>{l.value=m(),c(()=>e.tabId&&r.value[e.tabId],(a,t)=>{if(e.tabId&&a!==t){const d=e.data.findIndex(({id:v})=>v===a);d!==-1&&(l.value=d)}})}),()=>e.data.length?i("div",{class:"vp-code-tabs"},[i("div",{class:"vp-code-tabs-nav",role:"tablist"},e.data.map(({id:a},t)=>{const d=t===l.value;return i("button",{type:"button",ref:v=>{v&&(u.value[t]=v)},class:["vp-code-tab-nav",{active:d}],role:"tab","aria-controls":n[t],"aria-selected":d,onClick:()=>{l.value=t,b()},onKeydown:v=>{I(v,t)}},o[`title${t}`]({value:a,isActive:d}))})),e.data.map(({id:a},t)=>{const d=t===l.value;return i("div",{class:["vp-code-tab",{active:d}],id:n[t],role:"tabpanel","aria-expanded":d},[i("div",{class:"vp-code-tab-title"},o[`title${t}`]({value:a,isActive:d})),o[`tab${t}`]({value:a,isActive:d})])})]):null}});export{S as CodeTabs};
//# sourceMappingURL=CodeTabs.js.map
