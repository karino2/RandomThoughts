import{useStorage as y}from"@vueuse/core";import{defineComponent as h,useId as c,ref as A,shallowRef as g,h as r,watch as p,onMounted as E}from"vue";import"../styles/tabs.css";const S="VUEPRESS_TAB_STORE",s=y(S,{}),_=h({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},tabId:String},slots:Object,setup(e,{slots:d}){let n=e.data.map(()=>c());const l=A(e.active),i=g([]),o=()=>{e.tabId&&(s.value[e.tabId]=e.data[l.value].id)},b=(a=l.value)=>{l.value=a<i.value.length-1?a+1:0,i.value[l.value].focus()},f=(a=l.value)=>{l.value=a>0?a-1:i.value.length-1,i.value[l.value].focus()},m=(a,t)=>{a.key===" "||a.key==="Enter"?(a.preventDefault(),l.value=t):a.key==="ArrowRight"?(a.preventDefault(),b()):a.key==="ArrowLeft"&&(a.preventDefault(),f()),o()},I=()=>{if(e.tabId){const a=e.data.findIndex(({id:t})=>s.value[e.tabId]===t);if(a!==-1)return a}return e.active};return __VUEPRESS_DEV__&&p(()=>e.data.length,()=>{n=e.data.map(()=>c())}),E(()=>{l.value=I(),p(()=>e.tabId&&s.value[e.tabId],(a,t)=>{if(e.tabId&&a!==t){const v=e.data.findIndex(({id:u})=>u===a);v!==-1&&(l.value=v)}})}),()=>e.data.length?r("div",{class:"vp-tabs"},[r("div",{class:"vp-tabs-nav",role:"tablist"},e.data.map(({id:a},t)=>{const v=t===l.value;return r("button",{type:"button",ref:u=>{u&&(i.value[t]=u)},class:["vp-tab-nav",{active:v}],role:"tab","aria-controls":n[t],"aria-selected":v,onClick:()=>{l.value=t,o()},onKeydown:u=>{m(u,t)}},d[`title${t}`]({value:a,isActive:v}))})),e.data.map(({id:a},t)=>{const v=t===l.value;return r("div",{class:["vp-tab",{active:v}],id:n[t],role:"tabpanel","aria-expanded":v},[r("div",{class:"vp-tab-title"},d[`title${t}`]({value:a,isActive:v})),d[`tab${t}`]({value:a,isActive:v})])})]):null}});export{_ as Tabs};
//# sourceMappingURL=Tabs.js.map
