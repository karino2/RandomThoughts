{"version":3,"file":"config.js","sources":["../../src/client/config.ts"],"sourcesContent":["import type { ZoomOptions } from 'medium-zoom'\nimport mediumZoom from 'medium-zoom'\nimport { defineClientConfig, onContentUpdated } from 'vuepress/client'\nimport { mediumZoomSymbol, useMediumZoom } from './composables/index.js'\n\nimport './styles/vars.css'\nimport './styles/medium-zoom.css'\n\ndeclare const __MZ_SELECTOR__: string\ndeclare const __MZ_ZOOM_OPTIONS__: ZoomOptions\n\nconst selector = __MZ_SELECTOR__\nconst zoomOptions = __MZ_ZOOM_OPTIONS__\n\nexport default defineClientConfig({\n  enhance({ app }) {\n    if (__VUEPRESS_SSR__ || !selector) return\n\n    // create zoom instance and provide it\n    const zoom = mediumZoom(zoomOptions)\n    zoom.refresh = (sel = selector) => {\n      zoom.detach()\n      zoom.attach(sel)\n    }\n    app.provide(mediumZoomSymbol, zoom)\n  },\n\n  setup() {\n    const zoom = useMediumZoom()\n\n    onContentUpdated((reason) => {\n      if (reason !== 'beforeUnmount') zoom!.refresh()\n    })\n  },\n})\n"],"names":["selector","zoomOptions","config","defineClientConfig","app","zoom","mediumZoom","sel","mediumZoomSymbol","useMediumZoom","onContentUpdated","reason"],"mappings":"8OAWA,MAAMA,EAAW,gBACXC,EAAc,oBAEpB,IAAAC,EAAeC,EAAmB,CAChC,QAAQ,CAAE,IAAAC,CAAI,EAAG,CACf,GAAI,kBAAoB,CAACJ,EAAU,OAGnC,MAAMK,EAAOC,EAAWL,CAAW,EACnCI,EAAK,QAAU,CAACE,EAAMP,IAAa,CACjCK,EAAK,OAAA,EACLA,EAAK,OAAOE,CAAG,CACjB,EACAH,EAAI,QAAQI,EAAkBH,CAAI,CACpC,EAEA,OAAQ,CACN,MAAMA,EAAOI,EAAAA,EAEbC,EAAkBC,GAAW,CACvBA,IAAW,iBAAiBN,EAAM,SACxC,CAAC,CACH,CACF,CAAC"}